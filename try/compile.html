<%--
  Created by IntelliJ IDEA.
  User: Meridian
  Date: 2019/5/31
  Time: 09:32
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html>
<html lang="zh_cn">
<head>
    <title>Ordeal在线测试工具</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="../css/fontNunitoSans.css" rel="stylesheet">
    <link href="https://cdn.remixicon.com/releases/v1.2.2/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
          integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="../css/animate.css">
    <link rel="stylesheet" href="../css/owl.carousel.min.css">
    <link rel="stylesheet" href="../css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../css/magnific-popup.css">
    <link rel="stylesheet" href="../css/aos.css">
    <link rel="stylesheet" href="../css/ionicons.min.css">
    <link rel="stylesheet" href="../css/codestyle.css">
    <link rel="stylesheet" href="../css/flaticon.css">
    <link rel="stylesheet" href="../css/icomoon.css">
    <link rel="stylesheet" href="../css/style.css">

    <script>

        function login() {
            var sno = document.getElementById("username").value;
            var password = document.getElementById("password").value;


            //1.创建ajax对象
            var xhr = ajaxFunction();
            xhr.onreadystatechange = function() {
                if(xhr.readyState == 4) {
                    if(xhr.status == 200) {
                        var data= xhr.responseText;
                        if(data == 1){
                            $('#myModal').modal('hide');
                            $('#loginbtn').hide();
                            //显示我的按钮或者跳转页面
                        }else if(data == 0){
                            alert('用户名或密码错误！');
                        }
                    }
                }
            };
            //规定发送数据的形式（post/get），url，以及传输方式(同步/异步)
            xhr.open("post","./login.do",true);
            //post方式需要加下边这句，get方式不需要
            xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
            //将页面输入数据发送到后台
            xhr.send("sno="+sno+"&password="+password);
        }

        function ajaxFunction() {
            var xmlHttp;
            try {
                xmlHttp = new XMLHttpRequest();
            } catch(e) {
                try {
                    xmlHttp = new ActiveXObject("Msxm12.XMLHTTP");
                } catch(e) {
                    try {
                        xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
                    } catch(e) {}
                }
            }
            return xmlHttp;
        }
    </script>

    <style>
        body {
            background-color: #f6f6f6;
        }</style>
    <style type="text/css">
        #box::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body data-gr-c-s-loaded="true" cz-shortcut-listen="true" id="box">

<%--导航栏--%>
<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light site-navbar-target"
     id="ftco-navbar" style="background-color: #fff">
    <div class="container">
        <a class="navbar-brand" href="../index.jsp">Or<span>deal</span></a>
        <button class="navbar-toggler js-fh5co-nav-toggle fh5co-nav-toggle" type="button" data-toggle="collapse"
                data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="oi oi-menu"></span> Menu
        </button>
        <div class="collapse navbar-collapse" id="ftco-nav">
            <ul class="navbar-nav nav ml-auto" style="align-items: baseline">
                <li class="nav-item">
                    <a href="<c:if test="${success == \"true\"}">../index-login.jsp</c:if><c:if test="${success == null}">../index.jsp</c:if>" class="nav-link">
                        <span>主页</span>
                    </a>
                </li>
                <li class="nav-item"><a href="" class="nav-link dropdown-toggle" data-toggle="dropdown">HTML</a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="../html-main.jsp">HTML 教程</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="try.php?filename=tryhtml_intro">HTML 实例</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../tags/html-reference.jsp">HTML 参考手册</a>
                    </div>
                </li>
                <li class="nav-item"><a href="" class="nav-link dropdown-toggle" data-toggle="dropdown">CSS</a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="#">CSS 教程</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">CSS 实例</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">CSS 参考手册</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">CSS 响应式设计</a>
                    </div>
                </li>
                <li class="nav-item"><a href="" class="nav-link dropdown-toggle" data-toggle="dropdown">JavaScript</a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="#">Javascript 教程</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">JS 函数</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">JS HTML DOM</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">JS 高级教程</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">JS 浏览器BOM</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">JS 库</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">JS 实例</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">JS 参考手册</a>
                    </div>
                </li>
                <li class="nav-item"><a href="../note-main.jsp" class="nav-link"><span>笔记</span></a></li>
                <%--下拉菜单--%>
                <li class="nav-item"><a href="../share-main.jsp" class="nav-link"><span>模版</span></a></li>
                <%//--下拉菜单--%>
                <li class="nav-item"><a href="../exam-main.jsp" class="nav-link"><span>测验</span></a></li>
                <li class="nav-item">
                    <div class="col-1"></div>
                </li>
                <li class="nav-item">
                    <button class="btn btn-outline-dark px-4 py-2" data-toggle="modal" data-target="#myModal"
                            id="loginbtn" style="display: <c:if test="${success == \"true\"}">none</c:if>">登录
                    </button>
                </li>
            </ul>
        </div>
    </div>
</nav>
<%--//导航栏--%>
<div class="container">
    <style>
        body #textareaa {
            min-height: 300px;
            margin-top: 90px;
        }

        .container {
            width: 98%;
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto
        }

        .CodeMirror {
            min-height: 300px;;
            font-family: Menlo, Monaco, Consolas, "Andale Mono", "lucida console", "Courier New", monospace;
        }

        #textareaCode {
            min-height: 300px
        }

        #iframeResult {
            display: block;
            overflow: hidden;
            border: 1px solid #ced4da;
            border-radius: 5px;
            min-width: 100px;
            width: 100%;
            min-height: 300px;
            background-color: #fff
        }

        @media screen and (max-width: 768px) {
            #textareaCode {
                height: 300px
            }

            .CodeMirror {
                height: 300px;
                font-family: Menlo, Monaco, Consolas, "Andale Mono", "lucida console", "Courier New", monospace;
            }

            #iframeResult {
                height: 300px
            }

            .form-inline {
                padding: 6px 0 2px 0
            }
        }

        .logo h1 {
            background-image: url(../images/logo-text.png);
            background-repeat: no-repeat;
            text-indent: -9999px;
            width: 160px;
            height: 39px;
            margin-top: 10px;
            display: block
        }
    </style>

    <div class="row" id="textareaa">
        <div class="col-sm-6">
            <div class="panel panel-default">
                <form class="form-inline" action="compile.do" method="post">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-sm-3">
                                <h4 style="font-weight: lighter">源代码：</h4>
                            </div>
                            <div class="col-sm-5 text-right" >
                                <button type="submit" class="btn btn-primary" id="submitBTN" style="display: inline">
                                    <span style="vertical-align: middle">&emsp; 运行 </span>
                                    <span class="mr-3 icon-play fa-fw " style="vertical-align: sub"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body" style="padding: 2px;">
                        <div class="row">
                            <div class="col-sm-8">
                                <%--                                    <textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 133.28px; outline: none;" tabindex="0">--%>
                                <%--                                        ${textarea}--%>
                                <%--                                    </textarea>--%>
                                <textarea name="textarea" id="describe" rows="20"
                                          class="form-control"
                                          style="width: 100%; font-size: 16px; font-weight: lighter">${textarea}</textarea>
                                <%--                                <textarea name="
                                     style="width: 100%; height: 500px; resize:none; "></textarea>--%>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <form class="form-inline">
                        <h4>运行结果:</h4>
                    </form>
                </div>
                <div class="panel-body">
                    <iframe src="../source/document.html" id="iframeResult" style="width: 100%;"></iframe>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- MODAL -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header"><h3 class="modal-title" id="myModalLabel">登录</h3>
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <%--                <form action= method="post">--%>
                <div class="form-group">
                    <label class="form-check-label" for="username">&ensp;用户id</label>
                    <input type="text" placeholder="username..." class="form-control" id="username" name="username">
                </div>
                <div class="form-group">
                    <label class="form-check-label" for="password">&ensp;密码</label>
                    <input type="password" placeholder="password..." class="form-control" id="password" name="password">
                </div>
                <button class="btn btn-primary" onclick="login()">确认</button>
                <%--                </form>--%>
            </div>
        </div>
    </div>
</div>




<%--java script--%>
<script src="../js/jquery.min.js"></script>
<script src="../js/jquery-migrate-3.0.1.min.js"></script>
<script src="../js/popper.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/jquery.easing.1.3.js"></script>
<script src="../js/jquery.waypoints.min.js"></script>
<script src="../js/jquery.stellar.min.js"></script>
<script src="../js/owl.carousel.min.js"></script>
<script src="../js/jquery.magnific-popup.min.js"></script>
<script src="../js/aos.js"></script>
<script src="../js/jquery.animateNumber.min.js"></script>
<script src="../js/scrollax.min.js"></script>
<script src="../js/google-map.js"></script>
<script src="../js/main.js"></script>

</body>
</html>

